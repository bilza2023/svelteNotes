import{S as je,i as Ge,s as Te,k as G,a as M,q as N,e as se,I as Ae,l as T,h as m,c as O,m as H,r as P,n as g,Q as C,C as y,b as S,N as $,L as we,B as ae,J as F,P as He,H as Ne,R as Pe,p as J,T as Ce,u as ee,O as Ee,U as re}from"../../../chunks/index-0316f0bc.js";import{e as Xe}from"../../../chunks/forms-d6216b05.js";import{r as Me}from"../../../chunks/singletons-275da48e.js";const Oe=(l,e={})=>{ue(e);let{colors:t=["#FFC700","#FF0000","#2E3191","#41BBC7"],duration:s=3500,force:o=.5,particleCount:n=150,particleShape:r="mix",particleSize:a=12,destroyAfterDone:c=!0,stageHeight:d=800,stageWidth:u=1600}=e;(function(p){const v=Y("style");v.dataset.neoconfetti="",v.textContent='@keyframes fk9XWG_y-axis{to{transform:translate3d(0,var(--stage-height),0)}}@keyframes fk9XWG_x-axis{to{transform:translate3d(var(--x-landing-point),0,0)}}@keyframes fk9XWG_rotation{50%{transform:rotate3d(var(--half-rotation),180deg)}to{transform:rotate3d(var(--rotation),360deg)}}.fk9XWG_container{width:0;height:0;z-index:1200;position:relative;overflow:visible}.fk9XWG_particle{animation:x-axis var(--duration-chaos)forwards cubic-bezier(var(--x1),var(--x2),var(--x3),var(--x4));animation-name:fk9XWG_x-axis}.fk9XWG_particle>div{animation:y-axis var(--duration-chaos)forwards cubic-bezier(var(--y1),var(--y2),var(--y3),var(--y4));width:var(--width);height:var(--height);animation-name:fk9XWG_y-axis;position:absolute;top:0;left:0}.fk9XWG_particle>div:before{height:100%;width:100%;content:"";background-color:var(--bgcolor);animation:rotation var(--rotation-duration)infinite linear;border-radius:var(--border-radius);animation-name:fk9XWG_rotation;display:block}',Z(document.head,v)})(),l.classList.add("fk9XWG_container"),l.style.setProperty("--stage-height",d+"px");let b,i=ce(n,t),f=oe(l,i);function _(p,v){const k=V(z()*(Be-1)),w=r!=="rectangles"&&(r==="circles"||Le(k)),E=(W,h)=>p.style.setProperty(W,h+"");E("--x-landing-point",K(U(fe(v,90)-180),0,180,-u/2,u/2)+"px"),E("--duration-chaos",s-V(1e3*z())+"ms");const I=z()<ze?q(z()*De,2):0;E("--x1",I),E("--x2",-1*I),E("--x3",I),E("--x4",q(U(K(U(fe(v,90)-180),0,180,-1,1)),4)),E("--y1",q(z()*ie,4)),E("--y2",q(z()*o*(Se()?1:-1),4)),E("--y3",ie),E("--y4",q(qe(K(U(v-180),0,180,o,-o),0),4)),E("--width",(w?a:V(4*z())+a/2)+"px"),E("--height",(w?a:V(2*z())+a)+"px");const X=k.toString(2).padStart(3,"0").split("");E("--half-rotation",X.map(W=>+W/2+"")),E("--rotation",X),E("--rotation-duration",q(z()*(Ie-ne)+ne)+"ms"),E("--border-radius",w?"50%":0)}for(const[p,v]of Object.entries(f))_(v,i[+p].degree);return Promise.resolve().then(()=>b=setTimeout(()=>c&&(l.innerHTML=""),s)),{update(p){ue(p);const v=p.particleCount??n,k=p.colors??t,w=p.stageHeight??d;if(i=ce(v,k),v===n&&JSON.stringify(t)!==JSON.stringify(k))for(const[E,{color:I}]of Object.entries(i))f[+E].style.setProperty("--bgcolor",I);v!==n&&(l.innerHTML="",f=oe(l,i)),c&&!p.destroyAfterDone&&clearTimeout(b),l.style.setProperty("--stage-height",w+"px"),t=k,s=p.duration??s,o=p.force??o,n=v,r=p.particleShape??r,a=p.particleSize??a,c=p.destroyAfterDone??c,d=w,u=p.stageWidth??u},destroy(){clearTimeout(b)}}};function oe(l,e=[]){const t=[];for(const{color:s}of e){const o=Y("div");o.className="fk9XWG_particle",o.style.setProperty("--bgcolor",s);const n=Y("div");Z(o,n),Z(l,o),t.push(o)}return t}const ne=200,Ie=800,ze=.1,De=.3,ie=.5,U=Math.abs,z=Math.random,V=Math.round,qe=Math.max,Y=l=>document.createElement(l),Z=(l,e)=>l.appendChild(e),ce=(l,e)=>Array.from({length:l},(t,s)=>({color:e[s%e.length],degree:360*s/l})),q=(l,e=2)=>V((l+Number.EPSILON)*10**e)/10**e,K=(l,e,t,s,o)=>(l-e)*(o-s)/(t-e)+s,fe=(l,e)=>l+e>360?l+e-360:l+e,Se=()=>z()>.5,Be=6,Le=l=>l!==1&&Se(),x=l=>l===void 0,B=(l,e)=>{if(!x(l)&&Number.isSafeInteger(l)&&l<0)throw new Error(e+" must be a positive integer")},ue=({particleCount:l,duration:e,colors:t,particleSize:s,force:o,stageHeight:n,stageWidth:r,particleShape:a})=>{if(B(l,"particleCount"),B(e,"duration"),B(s,"particleSize"),B(o,"force"),B(n,"stageHeight"),B(r,"stageWidth"),!x(a)&&!/^(mix|circles|rectangles)$/i.test(a))throw new Error('particlesShape should be either "mix" or "circles" or "rectangle"');if(!x(t)&&!Array.isArray(t))throw new Error("colors must be an array of strings");if(o>1)throw new Error("force must be within 0 and 1")},We="(prefers-reduced-motion: reduce)",Ve=()=>window.matchMedia(We).matches,Ue=Me(Ve(),l=>{{const e=s=>{l(s.matches)},t=window.matchMedia(We);return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}});const{document:Q,window:Fe}=Pe;function de(l,e,t){const s=l.slice();return s[9]=e[t],s}function he(l,e,t){const s=l.slice();return s[12]=e[t],s}function _e(l,e,t){const s=l.slice();s[15]=e[t],s[9]=t;const o=s[9]===s[3];return s[16]=o,s}function pe(l,e,t){var u,b;const s=l.slice();s[15]=e[t],s[25]=t;const o=(u=s[0].answers[s[9]])==null?void 0:u[s[25]];s[18]=o;const n=((b=s[0].guesses[s[9]])==null?void 0:b[s[25]])??"";s[19]=n;const r=s[16]&&s[25]===s[0].guesses[s[9]].length;s[20]=r;const a=s[18]==="x";s[21]=a;const c=s[18]==="c";s[22]=c;const d=s[18]==="_";return s[23]=d,s}function Re(l){let e;return{c(){e=N("empty")},l(t){e=P(t,"empty")},m(t,s){S(t,e,s)},d(t){t&&m(e)}}}function Je(l){let e;return{c(){e=N("(absent)")},l(t){e=P(t,"(absent)")},m(t,s){S(t,e,s)},d(t){t&&m(e)}}}function Ke(l){let e;return{c(){e=N("(present)")},l(t){e=P(t,"(present)")},m(t,s){S(t,e,s)},d(t){t&&m(e)}}}function Qe(l){let e;return{c(){e=N("(correct)")},l(t){e=P(t,"(correct)")},m(t,s){S(t,e,s)},d(t){t&&m(e)}}}function me(l){let e,t=l[19]+"",s,o,n,r,a,c,d;function u(f,_){return f[21]?Qe:f[22]?Ke:f[23]?Je:Re}let b=u(l),i=b(l);return{c(){e=G("div"),s=N(t),o=M(),n=G("span"),i.c(),r=M(),a=G("input"),this.h()},l(f){e=T(f,"DIV",{class:!0});var _=H(e);s=P(_,t),o=O(_),n=T(_,"SPAN",{class:!0});var p=H(n);i.l(p),p.forEach(m),r=O(_),a=T(_,"INPUT",{name:!0,type:!0}),_.forEach(m),this.h()},h(){g(n,"class","visually-hidden"),g(a,"name","guess"),a.disabled=c=!l[16],g(a,"type","hidden"),a.value=d=l[19],g(e,"class","letter svelte-1pg2j5l"),C(e,"exact",l[21]),C(e,"close",l[22]),C(e,"missing",l[23]),C(e,"selected",l[20])},m(f,_){S(f,e,_),y(e,s),y(e,o),y(e,n),i.m(n,null),y(e,r),y(e,a)},p(f,_){_&1&&t!==(t=f[19]+"")&&ee(s,t),b!==(b=u(f))&&(i.d(1),i=b(f),i&&(i.c(),i.m(n,null))),_&8&&c!==(c=!f[16])&&(a.disabled=c),_&1&&d!==(d=f[19])&&(a.value=d),_&1&&C(e,"exact",f[21]),_&1&&C(e,"close",f[22]),_&1&&C(e,"missing",f[23]),_&9&&C(e,"selected",f[20])},d(f){f&&m(e),i.d()}}}function ge(l){let e,t,s=l[9]+1+"",o,n,r,a,c=Array(5),d=[];for(let u=0;u<c.length;u+=1)d[u]=me(pe(l,c,u));return{c(){e=G("h2"),t=N("Row "),o=N(s),n=M(),r=G("div");for(let u=0;u<d.length;u+=1)d[u].c();a=M(),this.h()},l(u){e=T(u,"H2",{class:!0});var b=H(e);t=P(b,"Row "),o=P(b,s),b.forEach(m),n=O(u),r=T(u,"DIV",{class:!0});var i=H(r);for(let f=0;f<d.length;f+=1)d[f].l(i);a=O(i),i.forEach(m),this.h()},h(){g(e,"class","visually-hidden"),g(r,"class","row svelte-1pg2j5l"),C(r,"current",l[16])},m(u,b){S(u,e,b),y(e,t),y(e,o),S(u,n,b),S(u,r,b);for(let i=0;i<d.length;i+=1)d[i].m(r,null);y(r,a)},p(u,b){if(b&9){c=Array(5);let i;for(i=0;i<c.length;i+=1){const f=pe(u,c,i);d[i]?d[i].p(f,b):(d[i]=me(f),d[i].c(),d[i].m(r,a))}for(;i<d.length;i+=1)d[i].d(1);d.length=c.length}b&8&&C(r,"current",u[16])},d(u){u&&m(e),u&&m(n),u&&m(r),F(d,u)}}}function Ye(l){let e,t,s,o,n,r,a,c,d,u,b=["qwertyuiop","asdfghjkl","zxcvbnm"],i=[];for(let f=0;f<3;f+=1)i[f]=ve(de(l,b,f));return{c(){e=G("div"),t=G("button"),s=N("enter"),n=M(),r=G("button"),a=N("back"),c=M();for(let f=0;f<3;f+=1)i[f].c();this.h()},l(f){e=T(f,"DIV",{class:!0});var _=H(e);t=T(_,"BUTTON",{"data-key":!0,class:!0});var p=H(t);s=P(p,"enter"),p.forEach(m),n=O(_),r=T(_,"BUTTON",{"data-key":!0,formaction:!0,name:!0,class:!0});var v=H(r);a=P(v,"back"),v.forEach(m),c=O(_);for(let k=0;k<3;k+=1)i[k].l(_);_.forEach(m),this.h()},h(){g(t,"data-key","enter"),t.disabled=o=!l[6],g(t,"class","svelte-1pg2j5l"),C(t,"selected",l[6]),g(r,"data-key","backspace"),g(r,"formaction","?/update"),g(r,"name","key"),r.value="backspace",g(r,"class","svelte-1pg2j5l"),g(e,"class","keyboard svelte-1pg2j5l")},m(f,_){S(f,e,_),y(e,t),y(t,s),y(e,n),y(e,r),y(r,a),y(e,c);for(let p=0;p<3;p+=1)i[p].m(e,null);d||(u=$(r,"click",Ee(l[8])),d=!0)},p(f,_){if(_&64&&o!==(o=!f[6])&&(t.disabled=o),_&64&&C(t,"selected",f[6]),_&301){b=["qwertyuiop","asdfghjkl","zxcvbnm"];let p;for(p=0;p<3;p+=1){const v=de(f,b,p);i[p]?i[p].p(v,_):(i[p]=ve(v),i[p].c(),i[p].m(e,null))}for(;p<3;p+=1)i[p].d(1)}},d(f){f&&m(e),F(i,f),d=!1,u()}}}function Ze(l){let e,t,s=l[4]?"you won :)":"game over :(",o,n,r=!l[4]&&l[0].answer&&ye(l);return{c(){r&&r.c(),e=M(),t=G("button"),o=N(s),n=N(" play again?"),this.h()},l(a){r&&r.l(a),e=O(a),t=T(a,"BUTTON",{"data-key":!0,class:!0,formaction:!0});var c=H(t);o=P(c,s),n=P(c," play again?"),c.forEach(m),this.h()},h(){g(t,"data-key","enter"),g(t,"class","restart selected svelte-1pg2j5l"),g(t,"formaction","?/restart")},m(a,c){r&&r.m(a,c),S(a,e,c),S(a,t,c),y(t,o),y(t,n)},p(a,c){!a[4]&&a[0].answer?r?r.p(a,c):(r=ye(a),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null),c&16&&s!==(s=a[4]?"you won :)":"game over :(")&&ee(o,s)},d(a){r&&r.d(a),a&&m(e),a&&m(t)}}}function be(l){let e,t,s,o,n,r,a;return{c(){e=G("button"),t=N(l[12]),this.h()},l(c){e=T(c,"BUTTON",{"data-key":!0,class:!0,formaction:!0,name:!0,"aria-label":!0});var d=H(e);t=P(d,l[12]),d.forEach(m),this.h()},h(){g(e,"data-key",l[12]),g(e,"class",s=re(l[2][l[12]])+" svelte-1pg2j5l"),e.disabled=o=l[0].guesses[l[3]].length===5,g(e,"formaction","?/update"),g(e,"name","key"),e.value=l[12],g(e,"aria-label",n=l[12]+" "+(l[5][l[12]]||""))},m(c,d){S(c,e,d),y(e,t),r||(a=$(e,"click",Ee(l[8])),r=!0)},p(c,d){d&4&&s!==(s=re(c[2][c[12]])+" svelte-1pg2j5l")&&g(e,"class",s),d&9&&o!==(o=c[0].guesses[c[3]].length===5)&&(e.disabled=o),d&32&&n!==(n=c[12]+" "+(c[5][c[12]]||""))&&g(e,"aria-label",n)},d(c){c&&m(e),r=!1,a()}}}function ve(l){let e,t,s=l[9],o=[];for(let n=0;n<s.length;n+=1)o[n]=be(he(l,s,n));return{c(){e=G("div");for(let n=0;n<o.length;n+=1)o[n].c();t=M(),this.h()},l(n){e=T(n,"DIV",{class:!0});var r=H(e);for(let a=0;a<o.length;a+=1)o[a].l(r);t=O(r),r.forEach(m),this.h()},h(){g(e,"class","row svelte-1pg2j5l")},m(n,r){S(n,e,r);for(let a=0;a<o.length;a+=1)o[a].m(e,null);y(e,t)},p(n,r){if(r&301){s=n[9];let a;for(a=0;a<s.length;a+=1){const c=he(n,s,a);o[a]?o[a].p(c,r):(o[a]=be(c),o[a].c(),o[a].m(e,t))}for(;a<o.length;a+=1)o[a].d(1);o.length=s.length}},d(n){n&&m(e),F(o,n)}}}function ye(l){let e,t,s=l[0].answer+"",o,n;return{c(){e=G("p"),t=N('the answer was "'),o=N(s),n=N('"')},l(r){e=T(r,"P",{});var a=H(e);t=P(a,'the answer was "'),o=P(a,s),n=P(a,'"'),a.forEach(m)},m(r,a){S(r,e,a),y(e,t),y(e,o),y(e,n)},p(r,a){a&1&&s!==(s=r[0].answer+"")&&ee(o,s)},d(r){r&&m(e)}}}function ke(l){let e,t,s,o;return{c(){e=G("div"),this.h()},l(n){e=T(n,"DIV",{style:!0}),H(e).forEach(m),this.h()},h(){J(e,"position","absolute"),J(e,"left","50%"),J(e,"top","30%")},m(n,r){S(n,e,r),s||(o=we(t=Oe.call(null,e,{particleCount:l[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})),s=!0)},p(n,r){t&&Ce(t.update)&&r&128&&t.update.call(null,{particleCount:n[7]?0:void 0,force:.7,stageWidth:window.innerWidth,stageHeight:window.innerHeight,colors:["#ff3e00","#40b3ff","#676778"]})},d(n){n&&m(e),s=!1,o()}}}function xe(l){let e,t,s,o,n,r,a,c,d,u,b,i,f,_,p,v,k=Array(6),w=[];for(let h=0;h<k.length;h+=1)w[h]=ge(_e(l,k,h));function E(h,A){return h[4]||h[0].answers.length>=6?Ze:Ye}let I=E(l),X=I(l),W=l[4]&&ke(l);return{c(){e=G("meta"),t=M(),s=G("h1"),o=N("Sverdle"),n=M(),r=G("form"),a=G("a"),c=N("How to play"),d=M(),u=G("div");for(let h=0;h<w.length;h+=1)w[h].c();b=M(),i=G("div"),X.c(),f=M(),W&&W.c(),_=se(),this.h()},l(h){const A=Ae("svelte-18lvto8",Q.head);e=T(A,"META",{name:!0,content:!0}),A.forEach(m),t=O(h),s=T(h,"H1",{class:!0});var D=H(s);o=P(D,"Sverdle"),D.forEach(m),n=O(h),r=T(h,"FORM",{method:!0,action:!0,class:!0});var j=H(r);a=T(j,"A",{class:!0,href:!0});var L=H(a);c=P(L,"How to play"),L.forEach(m),d=O(j),u=T(j,"DIV",{class:!0});var te=H(u);for(let R=0;R<w.length;R+=1)w[R].l(te);te.forEach(m),b=O(j),i=T(j,"DIV",{class:!0});var le=H(i);X.l(le),le.forEach(m),j.forEach(m),f=O(h),W&&W.l(h),_=se(),this.h()},h(){var h;Q.title="Sverdle",g(e,"name","description"),g(e,"content","A Wordle clone written in SvelteKit"),g(s,"class","visually-hidden"),g(a,"class","how-to-play svelte-1pg2j5l"),g(a,"href","/sverdle/how-to-play"),g(u,"class","grid svelte-1pg2j5l"),C(u,"playing",!l[4]),C(u,"bad-guess",(h=l[1])==null?void 0:h.badGuess),g(i,"class","controls svelte-1pg2j5l"),g(r,"method","POST"),g(r,"action","?/enter"),g(r,"class","svelte-1pg2j5l")},m(h,A){y(Q.head,e),S(h,t,A),S(h,s,A),y(s,o),S(h,n,A),S(h,r,A),y(r,a),y(a,c),y(r,d),y(r,u);for(let D=0;D<w.length;D+=1)w[D].m(u,null);y(r,b),y(r,i),X.m(i,null),S(h,f,A),W&&W.m(h,A),S(h,_,A),p||(v=[$(Fe,"keydown",$e),we(Xe.call(null,r,et))],p=!0)},p(h,[A]){var D;if(A&9){k=Array(6);let j;for(j=0;j<k.length;j+=1){const L=_e(h,k,j);w[j]?w[j].p(L,A):(w[j]=ge(L),w[j].c(),w[j].m(u,null))}for(;j<w.length;j+=1)w[j].d(1);w.length=k.length}A&16&&C(u,"playing",!h[4]),A&2&&C(u,"bad-guess",(D=h[1])==null?void 0:D.badGuess),I===(I=E(h))&&X?X.p(h,A):(X.d(1),X=I(h),X&&(X.c(),X.m(i,null))),h[4]?W?W.p(h,A):(W=ke(h),W.c(),W.m(_.parentNode,_)):W&&(W.d(1),W=null)},i:ae,o:ae,d(h){m(e),h&&m(t),h&&m(s),h&&m(n),h&&m(r),F(w,h),X.d(),h&&m(f),W&&W.d(h),h&&m(_),p=!1,He(v)}}}function $e(l){var e;l.metaKey||(e=document.querySelector(`[data-key="${l.key}" i]`))==null||e.dispatchEvent(new MouseEvent("click",{cancelable:!0}))}const et=()=>({update:l})=>{l({reset:!1})};function tt(l,e,t){let s,o,n,r;Ne(l,Ue,i=>t(7,r=i));let{data:a}=e,{form:c}=e,d,u;function b(i){const f=a.guesses[o],_=i.target.getAttribute("data-key");_==="backspace"?(t(0,a.guesses[o]=f.slice(0,-1),a),c!=null&&c.badGuess&&t(1,c.badGuess=!1,c)):f.length<5&&t(0,a.guesses[o]+=_,a)}return l.$$set=i=>{"data"in i&&t(0,a=i.data),"form"in i&&t(1,c=i.form)},l.$$.update=()=>{var i;l.$$.dirty&1&&t(4,s=a.answers.at(-1)==="xxxxx"),l.$$.dirty&17&&t(3,o=s?-1:a.answers.length),l.$$.dirty&13&&(t(2,d={}),t(5,u={}),a.answers.forEach((f,_)=>{const p=a.guesses[_];for(let v=0;v<5;v+=1){const k=p[v];f[v]==="x"?(t(2,d[k]="exact",d),t(5,u[k]="correct",u)):d[k]||(t(2,d[k]=f[v]==="c"?"close":"missing",d),t(5,u[k]=f[v]==="c"?"present":"absent",u))}})),l.$$.dirty&9&&t(6,n=((i=a.guesses[o])==null?void 0:i.length)===5)},[a,c,d,o,s,u,n,r,b]}class rt extends je{constructor(e){super(),Ge(this,e,tt,xe,Te,{data:0,form:1})}}export{rt as default};
