import{S as at,i as ot,s as ct,k as p,q as F,a as B,l as b,m as g,r as P,h as u,c as I,n as i,b as S,C as l,B as X,J as it,K as nt,L as ut,u as j,w as dt,x as ft,M as et,y as ht,N as z,O as _t,f as mt,t as pt,z as bt,P as vt}from"../../../chunks/index-0316f0bc.js";import{e as Tt}from"../../../chunks/forms-d6216b05.js";function lt(h,t,e){const o=h.slice();return o[4]=t[e],o}function st(h){let t,e,o=h[4].id+"",r,n,d,T=h[4].title+"",y,L,N,c,O,w,U,A,f,_,v,a,x,C,m,s,D,E,q,V,M,J;return{c(){t=p("tr"),e=p("td"),r=F(o),n=B(),d=p("td"),y=F(T),L=B(),N=p("td"),c=p("a"),O=F("View"),U=B(),A=p("td"),f=p("a"),_=F("Edit"),a=B(),x=p("td"),C=p("form"),m=p("input"),D=B(),E=p("button"),q=F("Delete"),V=B(),this.h()},l(R){t=b(R,"TR",{class:!0});var k=g(t);e=b(k,"TD",{class:!0});var K=g(e);r=P(K,o),K.forEach(u),n=I(k),d=b(k,"TD",{class:!0});var G=g(d);y=P(G,T),G.forEach(u),L=I(k),N=b(k,"TD",{class:!0});var Q=g(N);c=b(Q,"A",{class:!0,href:!0});var W=g(c);O=P(W,"View"),W.forEach(u),Q.forEach(u),U=I(k),A=b(k,"TD",{class:!0});var Y=g(A);f=b(Y,"A",{class:!0,href:!0});var Z=g(f);_=P(Z,"Edit"),Z.forEach(u),Y.forEach(u),a=I(k),x=b(k,"TD",{class:!0});var $=g(x);C=b($,"FORM",{method:!0,action:!0});var H=g(C);m=b(H,"INPUT",{name:!0,type:!0}),D=I(H),E=b(H,"BUTTON",{class:!0});var tt=g(E);q=P(tt,"Delete"),tt.forEach(u),H.forEach(u),$.forEach(u),V=I(k),k.forEach(u),this.h()},h(){i(e,"class","p-2 m-2 border-2 "),i(d,"class","p-2 m-2 border-2 "),i(c,"class","text-white"),i(c,"href",w=`http://localhost/articles/${h[4].id}`),i(N,"class","p-2 m-2 border-2 bg-blue-800"),i(f,"class","text-white"),i(f,"href",v=`http://localhost/articles/edit/${h[4].id}`),i(A,"class","p-2 m-2 border-2 bg-red-400"),i(m,"name","id"),i(m,"type","hidden"),m.hidden=!0,m.value=s=h[4].id,i(E,"class","text-white"),i(C,"method","post"),i(C,"action","?/delete"),i(x,"class","p-2 m-2 border-2 bg-red-900"),i(t,"class","text-white p-5")},m(R,k){S(R,t,k),l(t,e),l(e,r),l(t,n),l(t,d),l(d,y),l(t,L),l(t,N),l(N,c),l(c,O),l(t,U),l(t,A),l(A,f),l(f,_),l(t,a),l(t,x),l(x,C),l(C,m),l(C,D),l(C,E),l(E,q),l(t,V),M||(J=ut(Tt.call(null,C,h[3])),M=!0)},p(R,k){k&1&&o!==(o=R[4].id+"")&&j(r,o),k&1&&T!==(T=R[4].title+"")&&j(y,T),k&1&&w!==(w=`http://localhost/articles/${R[4].id}`)&&i(c,"href",w),k&1&&v!==(v=`http://localhost/articles/edit/${R[4].id}`)&&i(f,"href",v),k&1&&s!==(s=R[4].id)&&(m.value=s)},d(R){R&&u(t),M=!1,J()}}}function Et(h){let t,e,o,r,n,d,T,y,L,N,c,O,w,U,A=h[0],f=[];for(let _=0;_<A.length;_+=1)f[_]=st(lt(h,A,_));return{c(){t=p("table"),e=p("tr"),o=p("td"),r=F("id"),n=B(),d=p("td"),T=F("Title"),y=B(),L=p("td"),N=B(),c=p("td"),O=B(),w=p("td"),U=B();for(let _=0;_<f.length;_+=1)f[_].c();this.h()},l(_){t=b(_,"TABLE",{class:!0});var v=g(t);e=b(v,"TR",{class:!0});var a=g(e);o=b(a,"TD",{class:!0});var x=g(o);r=P(x,"id"),x.forEach(u),n=I(a),d=b(a,"TD",{class:!0});var C=g(d);T=P(C,"Title"),C.forEach(u),y=I(a),L=b(a,"TD",{class:!0});var m=g(L);m.forEach(u),N=I(a),c=b(a,"TD",{class:!0});var s=g(c);s.forEach(u),O=I(a),w=b(a,"TD",{class:!0});var D=g(w);D.forEach(u),a.forEach(u),U=I(v);for(let E=0;E<f.length;E+=1)f[E].l(v);v.forEach(u),this.h()},h(){i(o,"class","p-2 m-2 border-2 "),i(d,"class","p-2 m-2 border-2 "),i(L,"class","p-2 m-2 border-2 "),i(c,"class","p-2 m-2 border-2 "),i(w,"class","p-2 m-2 border-2 "),i(e,"class","text-white p-5 bg-blue-900"),i(t,"class","mx-auto w-full mb-10")},m(_,v){S(_,t,v),l(t,e),l(e,o),l(o,r),l(e,n),l(e,d),l(d,T),l(e,y),l(e,L),l(e,N),l(e,c),l(e,O),l(e,w),l(t,U);for(let a=0;a<f.length;a+=1)f[a].m(t,null)},p(_,[v]){if(v&3){A=_[0];let a;for(a=0;a<A.length;a+=1){const x=lt(_,A,a);f[a]?f[a].p(x,v):(f[a]=st(x),f[a].c(),f[a].m(t,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=A.length}},i:X,o:X,d(_){_&&u(t),it(f,_)}}}function gt(h,t,e){let{form:o}=t,{articles:r}=t,n=nt();const d=async({form:T,data:y,action:L,cancel:N})=>{const c=y.get("id");return console.log(c),n("delarticle",{id:c}),async({result:O,update:w})=>{}};return h.$$set=T=>{"form"in T&&e(2,o=T.form),"articles"in T&&e(0,r=T.articles)},[r,n,o,d]}class wt extends at{constructor(t){super(),ot(this,t,gt,Et,ct,{form:2,articles:0})}}function rt(h){let t,e,o,r;return{c(){t=p("button"),e=F("X"),this.h()},l(n){t=b(n,"BUTTON",{class:!0});var d=g(t);e=P(d,"X"),d.forEach(u),this.h()},h(){i(t,"class","px-4 py-1 m-1 bg-green-800 text-white rounded-r")},m(n,d){S(n,t,d),l(t,e),o||(r=z(t,"click",h[4]),o=!0)},p:X,d(n){n&&u(t),o=!1,r()}}}function Dt(h){let t,e,o,r,n,d,T,y,L,N,c,O,w=h[0].length+"",U,A,f,_,v,a,x,C,m=h[1]&&rt(h);return v=new wt({props:{articles:h[0]}}),v.$on("delarticle",h[5]),{c(){t=p("h1"),e=F("Articles"),o=B(),r=p("div"),n=p("input"),d=B(),m&&m.c(),T=B(),y=p("button"),L=F("Search"),N=B(),c=p("div"),O=F("Found : "),U=F(w),A=B(),f=p("hr"),_=B(),dt(v.$$.fragment),this.h()},l(s){t=b(s,"H1",{class:!0});var D=g(t);e=P(D,"Articles"),D.forEach(u),o=I(s),r=b(s,"DIV",{class:!0});var E=g(r);n=b(E,"INPUT",{name:!0,class:!0,type:!0}),d=I(E),m&&m.l(E),T=I(E),y=b(E,"BUTTON",{class:!0});var q=g(y);L=P(q,"Search"),q.forEach(u),N=I(E),c=b(E,"DIV",{class:!0});var V=g(c);O=P(V,"Found : "),U=P(V,w),V.forEach(u),E.forEach(u),A=I(s),f=b(s,"HR",{}),_=I(s),ft(v.$$.fragment,s),this.h()},h(){i(t,"class","text-white"),i(n,"name","searchText"),i(n,"class","px-2 py-1 border rounded-l"),i(n,"type","text"),i(y,"class","px-4 py-1 bg-blue-800 text-white rounded-r"),i(c,"class","bg-blue-800 text-white text-xl p-1 m-1"),i(r,"class","bg-blue-600 flex justify-center items-center py-2")},m(s,D){S(s,t,D),l(t,e),S(s,o,D),S(s,r,D),l(r,n),et(n,h[2]),l(r,d),m&&m.m(r,null),l(r,T),l(r,y),l(y,L),l(r,N),l(r,c),l(c,O),l(c,U),S(s,A,D),S(s,f,D),S(s,_,D),ht(v,s,D),a=!0,x||(C=[z(n,"input",h[7]),z(y,"click",_t(h[3]))],x=!0)},p(s,[D]){D&4&&n.value!==s[2]&&et(n,s[2]),s[1]?m?m.p(s,D):(m=rt(s),m.c(),m.m(r,T)):m&&(m.d(1),m=null),(!a||D&1)&&w!==(w=s[0].length+"")&&j(U,w);const E={};D&1&&(E.articles=s[0]),v.$set(E)},i(s){a||(mt(v.$$.fragment,s),a=!0)},o(s){pt(v.$$.fragment,s),a=!1},d(s){s&&u(t),s&&u(o),s&&u(r),m&&m.d(),s&&u(A),s&&u(f),s&&u(_),bt(v,s),x=!1,vt(C)}}}function yt(h,t,e){let{data:o}=t,r=o.articles,n=!1,d="";function T(){const c=d.trim();if(c=="")return;const O=c.toLocaleLowerCase();e(1,n=!0),e(0,r=o.articles);const w=r.filter(U=>U.title.toLowerCase().includes(O));e(0,r=[...w])}function y(){e(1,n=!1),e(2,d=""),e(0,r=[...o.articles])}function L(c){const O=parseInt(c.detail.id),w=r.filter(U=>U.id!==O);e(6,o.articles=[...w],o),e(0,r=o.articles)}function N(){d=this.value,e(2,d)}return h.$$set=c=>{"data"in c&&e(6,o=c.data)},[r,n,d,T,y,L,o,N]}class Nt extends at{constructor(t){super(),ot(this,t,yt,Dt,ct,{data:6})}}export{Nt as default};
